<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- Generated by IDLdoc 3.6.1 on Fri Jul 14 10:58:38 2017 -->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>pg_draw_point.pro (OMINAS API Documentation)</title>

    
    <style type="text/css" media="all">
            /* setup page */
      body { font-family: Helvetica, sans-serif; font-size: 12pt; margin: 0; padding: 0; }
      div.content { padding: 1em; }
      p { line-height: 1.4; }
      td p { padding-bottom: 0.5em; }
      img { border: 0; }
      
      /* link styles */
      a { text-decoration: none; }
      a:link, a:visited { color: #0000FF; }
      a:hover, a:focus { background: yellow; border-bottom: 1emx dotted #303099; }
      
      /* dir-overview styles */
      dt.filename { margin-top: 0.5em; }
      dl.file_listing { margin-left: 1em; }
      
      /* titles */
      h1, h2, h3, h4 { font-weight:normal; color: #871E31; margin-top: 1.5em; }
      h4 { margin-bottom: 0.25em; }
      .center { margin-left: auto; margin-right: auto; }
      .small { font-family: Verdana, Helvetica, sans-serif; font-size: 90%; }
      .smaller { font-family: Verdana, Helvetica, sans-serif; font-size: 80%; }
      .smallest { font-family: Verdana, Helvetica, sans-serif; font-size: 70%; }
      h1.basename { margin-top: 0; margin-bottom: 0; }
      h1.basename span.file-attributes { font-size: 70%; margin-left: 3em; color: #384806; }
      h2.directory { font-size: 90%; margin-bottom: 0; }
      h2.routine-name { margin-top: 0; margin-bottom: 0; }
      p.categories { color: #384806; margin-top: 0; }
      span.file_attribute { float: right; color: #384806; margin: 0 0 1em 3em; }
      div#file_comments { margin-top: 1em; }
      
      div.routine-details { border: 1px dotted #C0C0C0; margin-top: 1em; padding: 1em; }
      span.routine-attributes { font-size: 70%; margin-left: 3em; color: #384806; }
      div.details dt { color: #871E31; margin-left: 2em; }
      div.details dt span { color: #384806; margin-left: 2em; }
      div.details dd { margin: 0.5em 2em 1em 4em; }
      a.top {
        font-family: Verdana, Helvetica, sans-serif;
        font-size: 8pt;
        font-weight: bold;
        color: #5070ff;
        text-transform: uppercase;
        float: right;
        margin-left: 1em;
      }
      
      /* comments */
      .pre { white-space: pre; }
      
      /* code styles */
      code { font-family: Monaco, "Courier New", Courier, monospace; font-size: 95%; }
      code.listing { white-space: pre; display: block; margin: 0.75em 0 0.75em 0; padding: 0 3em 0 1em; line-height: 1.4em; }
      code.source { white-space: pre; display: block; }
      code.source span.comments { color: #408080; }
      .syntax { margin-top: 1em; margin-left: 1.5em; text-indent: -1.5em; }
      .var { font-style: italic; }
      .argument { } /* white-space: nowrap; does not work in Safari (and sometimes not even in Firefox) */
      
      dl.routine-summary dt { margin-bottom: 0.25em; }
      dl.routine-summary dd { margin-bottom: 0.5em; margin-left: 2em; }
      
      ul.inherited-method-summary { padding-left: 0em; margin-left: 0em; }
      
      /* general styles */
      ul li { list-style-type: none; }
      table { empty-cells: show; }
      thead { color: #871E31; }
      dd { margin-bottom: 0.35em; }
      input, textarea { background: #F3F6ED; border: #E1D6C6 1px solid; padding: 2px 1em 2px 0.5em; }
      input.text { background: #FFFFC0; }
      
      div.note { margin: 1em 2em 1em 2em; background: #EFEFEF; border: 1px #A0A0A0 dotted; padding: 0 1em 0 1em; }
      p.indent { margin-left: 2em; }
      
      /* An attribute table is a vertical list of name-value pairs. */
      table.box {
        background: #EFEFEF;
        border: 1px #A0A0A0 dotted;
        padding-top: 0.75em;
        padding-bottom: 0.75em;
      }
      table.attribute { padding-left: 0.75em; padding-right: 0.75em; }
      table td { vertical-align: top; }
      table.attribute p { margin: 0; }
      table td.name { font-style: normal; padding-right: 1.5em; }
      ul.fieldslist { padding-top: 0; color: #909090; }
      ul.fieldslist li { margin-bottom: 0.25em; }
      span.fieldname { color: #000000; }
      
      dl.attribute dt { color: #990000; }
      
      /* header/navbar styles */
      div.header { padding: 2em 2em 0 2em; background: #9E9D7B; border-bottom: 2px #262626 solid; }
      div.header h1 { color: white; margin:0; font-weight: normal; }
      div.header h2 { color: white; margin-top: 0; margin-bottom: 1em; font-weight: normal; font-style: italic; font-size: 100%; }
      table.navbar { background: #CCC097; margin: 0; padding: 0; border-bottom: 1px #262626 dotted; width: 100%; }
      table.navbar td { padding: 4px 0.5em 3px 0.5em; white-space: nowrap; vertical-align: top; }
      table.navbar td.flexible { width: 100%; text-align: right; padding-right: 1em; white-space: nowrap; }
      table.navbar td.selected { background: #262626; }
      table.navbar td.selected, table.navbar td.selected a { color: white; }
      table.navbar a:hover, table.navbar a:focus { background: inherit; border-bottom: 1px solid #303099; }
      p.localnavbar { text-align: right; margin: 0.2em 1em 0.2em 0.2em; padding: 0; }
      
      /* CSS graphics styles */
      div.box {
        margin-left: 0.25em;
        display: inline-block;
        width: 0.9em;
        height: 0.9em;
        vertical-align: -1px;
      }
      .red { background-color: #A00; }
      .orange { background-color: #F40; }
      .green { background-color: #480; }
      
      /* index styles */
      span.index_type { margin-left: 1em; }
      dl.index_listing dd { margin-bottom: 0.5em; margin-left: 2em; }
      dl.index_listing dd p { margin-top: 0.2em; margin-bottom: 0em; }
      
      /* search styles */
      fieldset { border: #ddd 1px solid; padding: 1em; margin-top: 3em; }
      legend { color: #871E31; font-size: 120%; }
      label { white-space: nowrap; }
      p.description { margin: 2em 2em 1em 2em; }
      form table td.name { vertical-align: middle; }
      
      /* footer styles */
      div.footer { padding: 0.5em 1em 0.5em 1em; background: #EFEFEF; border-top: 1px #A0A0A0 dotted; }
      div.footer table { width: 100%; }
      div.footer td.right { text-align: right; }

    </style>
    <style type="text/css" media="print">
            p.localnavbar { display: none; }
      
      div.header { background: white; }
      div.header h1 { color: black; }
      div.header h2 { color: black; }

    </style>
    

    <script type="text/javascript">
      function setTitle() {
        parent.document.title="pg_draw_point.pro (OMINAS API Documentation)";
      }
    </script>
  </head>

  <body onload="setTitle();" id="root">
    <div class="content">
      <code class="source"><span class="comments">;=============================================================================</span>
<span class="comments">;+</span>
<span class="comments">; NAME:</span>
<span class="comments">;	pg_draw_point</span>
<span class="comments">;</span>
<span class="comments">;</span>
<span class="comments">; PURPOSE:</span>
<span class="comments">;	Draws points from the given POINT on the current graphics</span>
<span class="comments">;	window using the current data coordinate system.</span>
<span class="comments">;</span>
<span class="comments">;</span>
<span class="comments">; CATEGORY:</span>
<span class="comments">;	NV/PG</span>
<span class="comments">;</span>
<span class="comments">;</span>
<span class="comments">; CALLING SEQUENCE:</span>
<span class="comments">;	pg_draw_point, object_ptd</span>
<span class="comments">;</span>
<span class="comments">;</span>
<span class="comments">; ARGUMENTS:</span>
<span class="comments">;  INPUT:</span>
<span class="comments">;	object_ptd:	Array of POINT containing image points</span>
<span class="comments">;			to be plotted in the current data coordinate system.</span>
<span class="comments">;</span>
<span class="comments">;  OUTPUT: NONE</span>
<span class="comments">;</span>
<span class="comments">;</span>
<span class="comments">; KEYWORDS:</span>
<span class="comments">;  INPUT:</span>
<span class="comments">;	literal:	All of the following input keywords accept an array</span>
<span class="comments">;			where each element corresponds to an element in the</span>
<span class="comments">;			object_ptd array.  By default, if the keyword array is</span>
<span class="comments">;			shorter than the object_ptd array, then the last element</span>
<span class="comments">;	  		is used to fill out the array.  /literal suppresses</span>
<span class="comments">;			this behavior and causes unspecified elements to</span>
<span class="comments">;			take their default values.</span>
<span class="comments">;</span>
<span class="comments">;	colors:		Array of plotting colors.  Default is !color.  String</span>
<span class="comments">;			names will be converted using the ct&lt;string>()</span>
<span class="comments">;			functions.  Labels are also plotted in this color.</span>
<span class="comments">;			If one element, then all points are plotted in this</span>
<span class="comments">;			color; if multiple elements, and object_ptd also</span>
<span class="comments">;			has multiple elements, each color will be assigned to </span>
<span class="comments">;			all elements in the corresponding array (see /literal);</span>
<span class="comments">;			if mulitple elements, and object_ptd has only one</span>
<span class="comments">;			element, then each color will be assigned to each </span>
<span class="comments">;			element of th object_ptd array.</span>
<span class="comments">;</span>
<span class="comments">;	shades:		Array of plotting shades.  Default is 1.0.</span>
<span class="comments">;</span>
<span class="comments">;	label_shade:	Array of plotting shades for labels.  Default is 1.0.</span>
<span class="comments">;</span>
<span class="comments">;	shades:		Array of plotting shades.  Default is 1.0.</span>
<span class="comments">;</span>
<span class="comments">;	psyms:		Array of plotting symbols.  Default is 3.</span>
<span class="comments">;</span>
<span class="comments">;	thick:		Array of plotting thicknesses.  Default is 1.</span>
<span class="comments">;</span>
<span class="comments">;	line:		Array of linestyles.  Default is 0.</span>
<span class="comments">;</span>
<span class="comments">;	psizes:		Array of plotting symbol sizes.  Default is 1.0.</span>
<span class="comments">;</span>
<span class="comments">;	csizes:		Array of character sizes.  Default is 1.0.</span>
<span class="comments">;</span>
<span class="comments">;	cthicks:	Array of character thicknesses.  Default is 1.0.</span>
<span class="comments">;</span>
<span class="comments">;	corient:	Array of character orientations.  Default is 1.0.</span>
<span class="comments">;</span>
<span class="comments">;	plabels:	Array of object labels.  Default is ''. </span>
<span class="comments">;</span>
<span class="comments">;	label_points:	If set, plabels will be applied element-by-element to</span>
<span class="comments">;			each point in each points array instead of once</span>
<span class="comments">;			to each object.</span>
<span class="comments">;</span>
<span class="comments">;	align:		Label alignment.  See XYOUTS.</span>
<span class="comments">;</span>
<span class="comments">;	wnum:		Window number in which to draw.</span>
<span class="comments">;</span>
<span class="comments">;	xormode:	If set, XOR graphics mode is used for drawing.</span>
<span class="comments">;</span>
<span class="comments">;	print:		Message to print before plotting.</span>
<span class="comments">;</span>
<span class="comments">;  OUTPUT: NONE</span>
<span class="comments">;</span>
<span class="comments">;</span>
<span class="comments">; RETURN:</span>
<span class="comments">;	NONE</span>
<span class="comments">;</span>
<span class="comments">;</span>
<span class="comments">; EXAMPLE:</span>
<span class="comments">;	The following command draws and labels a lavender 'limb' and a red</span>
<span class="comments">;	'ring' (assuming that the points have already been computed):</span>
<span class="comments">;</span>
<span class="comments">;	pg_draw_point, [limb_ptd, ring_ptd], color=[ctpurple(), ctred()], $</span>
<span class="comments">;	         plabels=['LIMB','RING']</span>
<span class="comments">;</span>
<span class="comments">;</span>
<span class="comments">; STATUS:</span>
<span class="comments">;	Complete</span>
<span class="comments">;</span>
<span class="comments">;</span>
<span class="comments">; MODIFICATION HISTORY:</span>
<span class="comments">; 	Written by:	Spitale, 1/1998 (pg_draw)</span>
<span class="comments">;	Renamed pg_draw_point: Spitale, 9/2005</span>
<span class="comments">;	</span>
<span class="comments">;-</span>
<span class="comments">;=============================================================================</span>



<span class="comments">;=============================================================================</span>
<span class="comments">; pgdp_draw</span>
<span class="comments">;</span>
<span class="comments">;=============================================================================</span>
<a id="pgdp_draw:source"></a>pro pgdp_draw, points, $
            colors, psyms, psizes, thick, line, $
            csizes, cthicks, corient, align, plabel_offset, label_colors, $
            label_points=label_points, plabels=plabels
 

 p = (convert_coord(points, /data, /to_device))[0:1,*]
 w = in_image(0, p, slop=1, $
    corners=transpose([transpose([0,0]), transpose([!d.x_size-1,!d.y_size-1])]))

 if(w[0] NE -1) then $
  begin
   <span class="comments">;-----------------------</span>
   <span class="comments">; plot visible points</span>
   <span class="comments">;-----------------------</span>
   color = colors

   plots, points, psym=psyms, $
	   symsize=psizes, color=color, thick=thick, line=line, noclip=0

   <span class="comments">;-----------------------</span>
   <span class="comments">; plot point labels</span>
   <span class="comments">;-----------------------</span>
   if(keyword_set(plabels)) then $
    begin
     if(keyword_set(label_points)) then $
      begin
       labels = plabels
       xyouts, points[0,*]+plabel_offset[0], $
	     points[1,*]+plabel_offset[1], $
	     labels, color=label_colors, $
	     charsize=csizes, charthick=cthicks, orient=corient, $
	     noclip=0, align=align
      end $
     else $
      begin
       xyouts, points[0,0]+plabel_offset[0], $
		 points[1,0]+plabel_offset[1], $
		 plabels, color=label_colors, $
		 charsize=csizes, charthick=cthicks, orient=corient, $
		 noclip=0, align=align
      end 
    end
  end


end
<span class="comments">;=============================================================================</span>




<span class="comments">;=============================================================================</span>
<span class="comments">; pgdp_fill</span>
<span class="comments">;</span>
<span class="comments">;=============================================================================</span>
<a id="pgdp_fill:source"></a>function pgdp_fill, _val, n_objects, def=def, all=all

 if(n_elements(_val) NE 0 AND all) then $
      val=fill_array(n_objects, val=_val) $
 else val=fill_array(n_objects, val=_val, def=def)

 return, val
end
<span class="comments">;=============================================================================</span>




<span class="comments">;=============================================================================</span>
<span class="comments">; pg_draw_point</span>
<span class="comments">;</span>
<span class="comments">;=============================================================================</span>
<a id="pg_draw_point:source"></a>pro pg_draw_point, _pp, literal=literal, $
             colors=_colors, psyms=_psyms, psizes=_psizes, plabels=_plabels, $
             xormode=xormode, csizes=_csizes, cthicks=_cthicks, wnum=wnum, shades=shades, $
             label_points=label_points, thick=_thick, line=_line, print=print, $
             label_shade=label_shade, align=_align, corient=_corient, label_color=label_color, $
             shade_threshold=shade_threshold
@pnt_include.pro

 if(keyword_set(print)) then print, print

 if(NOT keyword_set(_pp)) then return
 pp = reform(_pp)

 if(NOT keyword_set(label_shade)) then label_shade = 1.0
 if(NOT defined(_colors)) then _colors = ctwhite()
 if(keyword_set(wnum)) then tvim, wnum


 <span class="comments">;---------------------------------------</span>
 <span class="comments">; set up colors</span>
 <span class="comments">;---------------------------------------</span>
 color_type = size(_colors, /type)
 if(color_type EQ 7) then $
  begin
   nn = n_elements(_colors)
   colors = lonarr(nn)
   if(NOT keyword_set(shades)) then shades = make_array(nn, val=1.0)
   for i=0, nn-1 do colors[i] = call_function('ct'+strlowcase(_colors[i]), shades[i])

   label_colors = lonarr(nn)
   if(keyword_set(label_color)) then lc = make_array(nn, val=label_color) $
   else lc = _colors

   for i=0, nn-1 do label_colors[i] = $
        call_function('ct'+strlowcase(lc[i]), shades[i]*label_shade)

   _colors = colors
  end
 if(NOT keyword_set(label_colors)) then label_colors = _colors

 xx = (convert_coord(double([0,5]), double([0,5]), /device, /to_data))[0:1,*]
 plabel_offset = abs([xx[0,0]-xx[0,1], xx[1,0]-xx[1,1]])
 all = NOT keyword_set(literal)



 <span class="comments">;------------------------------------------------------</span>
 <span class="comments">; if inputs given as points array, draw and return</span>
 <span class="comments">;------------------------------------------------------</span>
 type = size(pp, /type)
 if(type NE 11) then $
  begin
   pgdp_draw, pp, $
       _colors, _psyms, _psizes, _thick, _line, $
       _csizes, _cthicks, _corient, _align, plabel_offset, label_colors, $
       label_points=label_points, plabels=plabels
   return
  end




 <span class="comments">;---------------------------------------------------------</span>
 <span class="comments">; for POINT input, draw one-at-a-time</span>
 <span class="comments">;---------------------------------------------------------</span>
 pp = pnt_cull(pp, /nofree)
 n_objects = n_elements(pp)

 <span class="comments">;- - - - - - - - - - - - - - - - - - - - - - - - - - - -</span>
 <span class="comments">; if only one POINT given, but any attribute has </span>
 <span class="comments">; more than one element, explode the POINT object</span>
 <span class="comments">;- - - - - - - - - - - - - - - - - - - - - - - - - - - -</span>
 nval = 0
 if(n_objects EQ 1) then $
  begin
   nval = max([n_elements(_psyms), $
               n_elements(_psizes), $
               n_elements(_corient), $
               n_elements(_csizes), $
               n_elements(_cthicks), $
               n_elements(_align), $
               n_elements(_thick), $
               n_elements(_line), $
               n_elements(_plabels), $
               n_elements(_colors)])
   if(nval GT 1) then pp = pnt_explode(pp)
  end

 n_objects = n_elements(pp)


 <span class="comments">;- - - - - - - - - - - - - - - - -</span>
 <span class="comments">; fill out attribute arrays</span>
 <span class="comments">;- - - - - - - - - - - - - - - - -</span>
 psyms = pgdp_fill(_psyms, n_objects, def=3, all=all)
 psizes = pgdp_fill(_psizes, n_objects, def=1.0, all=all)
 corient = pgdp_fill(_corient, n_objects, def=1.0, all=all)
 csizes = pgdp_fill(_csizes, n_objects, def=1.0, all=all)
 cthicks = pgdp_fill(_cthicks, n_objects, def=1.0, all=all)
 align = pgdp_fill(_align, n_objects, def=0.0, all=all)
 thick = pgdp_fill(_thick, n_objects, def=1, all=all)
 line = pgdp_fill(_line, n_objects, def=0, all=all)
 plabels = pgdp_fill(_plabels, n_objects, def='', all=all)
 colors = pgdp_fill(_colors, n_objects, def=!p.color, all=all)
 label_colors = pgdp_fill(label_colors, n_objects, def=!p.color, all=all)

 if(keyword_set(xormode)) then device, set_graphics=6

 <span class="comments">;- - - - - - - - - - - - - - - - -</span>
 <span class="comments">; plot arrays</span>
 <span class="comments">;- - - - - - - - - - - - - - - - -</span>
 for i=0, n_objects-1 do $
  begin
   <span class="comments">;- - - - - - - - - - - - - - - - -</span>
   <span class="comments">; visible, unselected points</span>
   <span class="comments">;- - - - - - - - - - - - - - - - -</span>
   points = pnt_points(pp[i], /visible, /unselected, segments=segments)

   if(keyword_set(points)) then $
    begin

     for j=0, n_elements(segments)-1 do $
       pgdp_draw, points[*,segments[j].start:segments[j].stop], $
         colors[i], psyms[i], psizes[i], thick[i], line[i], $
         csizes[i], cthicks[i], corient[i], align[i], plabel_offset, label_colors[i], $
         label_points=label_points, plabels=plabels[i]

    end

   <span class="comments">;- - - - - - - - - - - - - - - - -</span>
   <span class="comments">; visible, selected points</span>
   <span class="comments">;- - - - - - - - - - - - - - - - -</span>
   points = pnt_points(pp[i], /visible, /selected, segments=segments)

   if(keyword_set(points)) then $
    begin
     size = psizes[i]
     psym = psyms[i]
     th = thick[i]

     if(psym EQ 3) then $
      begin
       psym = 4
       size = 0.5
      end $
     else th = th*2 

     for j=0, n_elements(segments)-1 do $
       pgdp_draw, points[*,segments[j].start:segments[j].stop], $
         colors[i], psym, size, th, line[i], $
         csizes[i], cthicks[i], corient[i], align[i], plabel_offset, label_colors[i], $
         label_points=label_points, plabels=plabels[i]

    end

  end


<span class="comments">;;; if(nval GT 1) then nv_free, pp</span>
 if(keyword_set(xormode)) then device, set_graphics=3
end
<span class="comments">;=============================================================================</span>
</code>
    </div>
  </body>
</html>